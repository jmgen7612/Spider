#!/usr/bin/env python3# -*- coding: utf-8 -*-#@file   :demo2.py#@time   :2018/5/12 12:55#@Author :jmgen#@Version:1.0#@Desc   :# from urllib import parse# from urllib import request# import http.cookiejar# cookie = http.cookiejar.CookieJar()# opener = request.build_opener(request.HTTPCookieProcessor(cookie))# response = opener.open('http://www.zhihu.com')# for item in cookie:#     print(item.name+':'+item.value)# from urllib import request# proxy = request.ProxyHandler({'http': '127.0.0.1:8888'})# opener = request.build_opener(proxy)# # request.install_opener(opener)# response = opener.open('http://www.baidu.com/')# print(response.read().decode())import requestsloginUrl = 'http://www.zhihu.com's = requests.Session()print(s)#首先访问登录界面，作为游客，服务器会先分配一个cookier = s.get(loginUrl,allow_redirects=True)# datas={'name':'qiye','passwd':'qiye'}# #向登录链接发送post请求，验证成功，游客权限转为会员权限# r = s.post(loginUrl, data=datas,allow_redirects= True)print(r.text)