#!/usr/bin/env python3# -*- coding: utf-8 -*-#@file   :lagouspiderdemo.py#@time   :2018/5/26 11:00#@Author :jmgen#@Version:1.0#@Desc   :import requestsdata = {    'first': False,    'pn':1,    'kd': '测试工程师',}params={    'px':'default',    'yx':'15k-25k',    'city':'深圳',    'district':'南山区',    'bizArea':'科技园',    'needAddtionalResult':False}def get_job(data):    url = 'https://www.lagou.com/jobs/positionAjax.json?px=default&yx=15k-25k&city=%E6%B7%B1%E5%9C%B3&district=%E5%8D%97%E5%B1%B1%E5%8C%BA&bizArea=%E7%A7%91%E6%8A%80%E5%9B%AD&needAddtionalResult=false'    headers={'User-Agent':'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.221 Safari/537.36 SE 2.X MetaSr 1.0',          'Connection':'keep-alive',          'Host':'www.lagou.com',          'Origin':'https://www.lagou.com',          'Cookie':'JSESSIONID=ABAAABAABEEAAJA8F28C00A88DC4D771796BB5C6FFA2DDA; user_trace_token=20170715131136-d58c1f22f6434e9992fc0b35819a572b; LGUID=20170715131136-13c54b92-691c-11e7-893a-525400f775ce; index_location_city=%E5%8C%97%E4%BA%AC; _gat=1; TG-TRACK-CODE=index_search; _gid=GA1.2.496231841.1500095497; _ga=GA1.2.1592435732.1500095497; Hm_lvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1500095497; Hm_lpvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1500104021; LGSID=20170715143221-5b993c04-6927-11e7-a985-5254005c3644; LGRID=20170715153341-ec8dbfd2-692f-11e7-a989-5254005c3644; SEARCH_ID=d27de6042bdf4d508cf9b39616a98a0d',          'Accept':'application/json, text/javascript, */*; q=0.01',          'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8',          'Referer':'https://www.lagou.com/jobs/list_%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98?labelWords=&fromSearch=true&suginput=',          'X-Anit-Forge-Token':'None',          'X-Requested-With':'XMLHttpRequest'}    url1='https://www.lagou.com/jobs/positionAjax.json'    headers1={'Accept':'application/json, text/javascript, */*; q=0.01',            'Accept-Encoding':'gzip, deflate, br',            'Accept-Language':'zh-CN,zh;q=0.9',            'Connection':'keep-alive',            'Content-Length':'64',            'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8',            'Cookie':'WEBTJ-ID=20180526011806-163984ebba731d-0de2e86e7330b8-454c092b-1049088-163984ebba852d; _ga=GA1.2.1913932621.1527268687; _gid=GA1.2.1394737526.1527268687; user_trace_token=20180526011844-ad402ed4-603f-11e8-9e48-525400f775ce; LGUID=20180526011844-ad4032f3-603f-11e8-9e48-525400f775ce; JSESSIONID=ABAAABAAAGGABCB3695C31A710229B73200AB551E0288B0; Hm_lvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1527268687,1527268702; index_location_city=%E6%B7%B1%E5%9C%B3; TG-TRACK-CODE=search_code; LGSID=20180526101102-0a4b8c0c-608a-11e8-9e7e-525400f775ce; LGRID=20180526105727-8608bc22-6090-11e8-8b5e-5254005c3644; Hm_lpvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1527303410; SEARCH_ID=d4e4259d6fc84640bd4dfab9b479a823',            'Host':'www.lagou.com',            'Origin':'https://www.lagou.com',            'Referer':'https://www.lagou.com/jobs/list_%E6%B5%8B%E8%AF%95%E5%B7%A5%E7%A8%8B%E5%B8%88?px=default&yx=15k-25k&city=%E6%B7%B1%E5%9C%B3&district=%E5%8D%97%E5%B1%B1%E5%8C%BA&bizArea=%E7%A7%91%E6%8A%80%E5%9B%AD',            'User-Agent':'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',            'X-Anit-Forge-Code':'0',            'X-Anit-Forge-Token':'None',            'X-Requested-With':'XMLHttpRequest'}    page=requests.post(url=url1, headers=headers1, data=data, params=params)    page.encoding = 'utf-8'    result = page.json()    print(result)    jobs = result['content']['positionResult']['result']    for job in jobs:        companyShortName = job['companyShortName']        print(companyShortName)        positionId = job['positionId']  # 主页ID        print(positionId)        companyFullName = job['companyFullName']  # 公司全名        print(companyFullName)if __name__=="__main__":    get_job(data)